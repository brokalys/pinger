{"version":3,"sources":["components/RegionSelector/RegionSelector.module.css","components/Form/Fields/RegionField/RegionField.module.css","pages/Home/Home.module.css","shared/apollo-client.ts","shared/bugsnag.ts","shared/l10n.tsx","components/RegionSelector/conversion.ts","components/RegionSelector/RegionSelector.tsx","components/Form/Fields/RegionField/index.ts","components/Form/Fields/RegionField/RegionField.tsx","components/Form/Fields/RegionField/use-region-options.ts","components/Form/schema.ts","components/Form/Form.tsx","pages/Home/Home.tsx","pages/Home/index.tsx","pages/index.ts","index.tsx"],"names":["module","exports","errorLink","onError","graphQLErrors","networkError","forEach","data","Bugsnag","notify","message","event","addMetadata","httpLink","HttpLink","uri","client","ApolloClient","cache","InMemoryCache","link","from","apiKey","process","start","plugins","BugsnagPluginReact","ErrorBoundary","getPlugin","createErrorBoundary","React","setLocale","mixed","required","notType","string","email","max","number","integer","positive","min","moreThan","lessThan","fns","polygonToString","polygon","region","getPath","getArray","map","row","lat","toFixed","lng","join","push","polygonStringToCoords","str","path","split","undefined","Error","parseFloat","pop","options","rotateControl","scaleControl","streetViewControl","panControl","fullscreenControl","RegionSelector","props","useState","polygonRef","setPolygonRef","polygonPath","useMemo","convert","value","useLoadScript","googleMapsApiKey","isLoaded","loadError","onPolygonChange","onChange","Message","negative","Header","mapContainerClassName","styles","center","zoom","draggable","editable","onLoad","onDragEnd","onMouseUp","onRightClick","vertex","removeAt","Segment","loading","className","RegionField","regionOptions","setOptions","useEffect","a","riga","features","geometry","coordinates","coords","text","properties","name","loadRegionData","useRegionOptions","setCenter","setZoom","Form","Field","inline","label","dropdown","Select","deburr","search","length","placeholder","e","arr","reduce","x","y","getCenterCoords","find","opt","getCoordinatesByValue","positiveFormNumber","transform","originalValue","String","trim","moreThanEqualMin","schema","object","shape","category","oneOf","type","price_min","price_max","when","rooms_min","rooms_max","area_m2_min","area_m2_max","matches","comments","categoryOptions","typeOptions","getError","field","content","pointing","PingerForm","useForm","resolver","yupResolver","control","handleSubmit","errors","error","warning","success","onSubmit","defaultValue","render","id","Input","Group","widths","htmlFor","labelPosition","Label","basic","prompt","TextArea","Button","primary","role","formNoValidate","defaultProps","CREATE_PINGER","getMaxPingerLimitFromError","extensions","maxPingers","Home","useMutation","errorPolicy","createPinger","useCallback","form","variables","Container","container","padded","header","Content","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d208b73c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"map\":\"RegionSelector_map__RYekW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"RegionField_label__bbhIu\",\"dropdown\":\"RegionField_dropdown__10xQQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Home_container__1s89M\"};","import { ApolloClient, InMemoryCache, from, HttpLink } from \"@apollo/client\";\nimport { onError } from \"@apollo/client/link/error\";\nimport Bugsnag from \"@bugsnag/js\";\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors) {\n    graphQLErrors.forEach((data) => {\n      Bugsnag.notify(`[GraphQL error]: Message: ${data.message}`, (event) => {\n        event.addMetadata(\"data\", data);\n      });\n    });\n  }\n\n  if (networkError) {\n    Bugsnag.notify(`[Network error]: ${networkError}`);\n  }\n});\n\nconst httpLink = new HttpLink({\n  uri: \"https://api.brokalys.com\",\n});\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: from([errorLink, httpLink]),\n});\n\nexport default client;\n","import Bugsnag from \"@bugsnag/js\";\nimport BugsnagPluginReact from \"@bugsnag/plugin-react\";\nimport React from \"react\";\n\nconst apiKey = process.env.REACT_APP_BUGSNAG_KEY;\nlet ErrorBoundary: any = ({ children }: { children: React.ReactNode }) =>\n  children;\n\nif (apiKey) {\n  Bugsnag.start({\n    apiKey,\n    plugins: [new BugsnagPluginReact()],\n  });\n\n  ErrorBoundary = Bugsnag.getPlugin(\"react\")!.createErrorBoundary(React);\n}\n\nexport default ErrorBoundary;\n","/* eslint-disable no-template-curly-in-string */\nimport { setLocale } from \"yup\";\n\nsetLocale({\n  mixed: {\n    required: \"Šis lauciņš ir obligāti jāaizpilda\",\n    notType: \"Šajā lauciņā nav ievadīta pareiza vērtība\",\n  },\n  string: {\n    email: \"Šajā lauciņā jābūt ievadītai e-pasta adresei\",\n    max: \"Šajā lauciņā drīkst ievadīt tikai ${max} simbolus\",\n  },\n  number: {\n    integer: \"Šajā lauciņā var ievadīt tikai veselus skaitļus\",\n    positive: \"Šajā lauciņā var ievadīt tikai pozitīvus skaitļus\",\n    min: \"Šī lauciņa vērtībai ir jābūt lielākai vai vienādai ar ${min}\",\n    moreThan: \"Šī lauciņa vērtībai ir jābūt lielākai par ${more}\",\n    lessThan: \"Šī lauciņa vērtībai ir jābūt mazākai par ${less}\",\n  },\n});\n","/// <reference types=\"googlemaps\" />\n\nfunction polygonToString(polygon: google.maps.Polygon) {\n  const region = polygon\n    .getPath()\n    .getArray()\n    .map((row) => [row.lat().toFixed(6), row.lng().toFixed(6)].join(\" \"));\n  region.push(region[0]);\n  return region.join(\", \");\n}\n\nfunction polygonStringToCoords(str: string) {\n  const path = str.split(\", \").map((row) => {\n    const [lat, lng] = row.split(\" \");\n\n    if (lat === undefined || lng === undefined) {\n      throw new Error(\"Invalid coordinates provided\");\n    }\n\n    return {\n      lat: parseFloat(lat),\n      lng: parseFloat(lng),\n    };\n  });\n  path.pop();\n  return path;\n}\n\nconst fns = { polygonToString, polygonStringToCoords };\n\nexport default fns;\n","/// <reference types=\"googlemaps\" />\nimport { GoogleMap, Polygon, useLoadScript } from \"@react-google-maps/api\";\nimport React, { useMemo, useState } from \"react\";\nimport { Message, Segment } from \"semantic-ui-react\";\nimport convert from \"./conversion\";\nimport styles from \"./RegionSelector.module.css\";\n\nconst options = {\n  rotateControl: false,\n  scaleControl: false,\n  streetViewControl: false,\n  panControl: false,\n  fullscreenControl: false,\n};\n\ninterface RegionSelectorProps {\n  value: string;\n  center: {\n    lat: number;\n    lng: number;\n  };\n  zoom: number;\n  onChange: (event: string) => void;\n}\n\nexport default function RegionSelector(props: RegionSelectorProps) {\n  const [polygonRef, setPolygonRef] = useState<google.maps.Polygon>();\n  const polygonPath = useMemo(\n    () => convert.polygonStringToCoords(props.value),\n    [props.value],\n  );\n\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_KEY!,\n  });\n\n  function onPolygonChange() {\n    props.onChange(convert.polygonToString(polygonRef!));\n  }\n\n  function onPolygonRemove(event: google.maps.PolyMouseEvent) {\n    if (event.vertex === undefined) {\n      return;\n    }\n\n    polygonRef!.getPath().removeAt(event.vertex);\n    onPolygonChange();\n  }\n\n  if (!isLoaded) {\n    return <Segment loading className={styles.map} />;\n  }\n\n  if (loadError) {\n    return (\n      <Message negative>\n        <Message.Header>Problēma ielādējot karti</Message.Header>\n        <p>\n          Diemžēl, radusies problēma ielādējot karti. Pašlaik var izmantot tikai\n          ātro reģionu izvēlni (augstāk).\n        </p>\n      </Message>\n    );\n  }\n\n  return (\n    <GoogleMap\n      options={options}\n      mapContainerClassName={styles.map}\n      center={props.center}\n      zoom={props.zoom}\n    >\n      <Polygon\n        draggable\n        editable\n        path={polygonPath}\n        onLoad={setPolygonRef}\n        onDragEnd={onPolygonChange}\n        onMouseUp={onPolygonChange}\n        onRightClick={onPolygonRemove}\n      />\n    </GoogleMap>\n  );\n}\n","import RegionField from \"./RegionField\";\n\nexport default RegionField;\n","import { useState } from \"react\";\nimport {\n  DropdownItemProps,\n  DropdownProps,\n  Form,\n  Select,\n} from \"semantic-ui-react\";\nimport RegionSelector from \"components/RegionSelector\";\nimport styles from \"./RegionField.module.css\";\nimport useRegionOptions from \"./use-region-options\";\n\nfunction getCenterCoords(arr: Array<[number, number]>) {\n  const coords = arr.reduce(\n    (x, y) => [x[0] + y[0] / arr.length, x[1] + y[1] / arr.length],\n    [0, 0],\n  );\n\n  return { lat: coords[1], lng: coords[0] };\n}\n\nfunction getCoordinatesByValue(\n  options: DropdownItemProps[] | undefined,\n  value: any,\n) {\n  return options!.find((opt) => opt.value === value)?.data?.geometry\n    ?.coordinates[0];\n}\n\ninterface RegionFieldProps {\n  value: string;\n  onChange: (value: any) => void;\n}\n\nexport default function RegionField(props: RegionFieldProps) {\n  const regionOptions = useRegionOptions();\n  const [center, setCenter] = useState({\n    lat: 56.94,\n    lng: 24.105,\n  });\n  const [zoom, setZoom] = useState(11);\n\n  function onSelectChange(\n    e: React.SyntheticEvent<HTMLElement>,\n    { value, options }: DropdownProps,\n  ) {\n    setCenter(getCenterCoords(getCoordinatesByValue(options, value)));\n    setZoom(13);\n    props.onChange(value);\n  }\n\n  return (\n    <>\n      <Form.Field required inline>\n        <label className={styles.label}>Reģions</label>\n        <div className={styles.dropdown}>\n          <Select\n            deburr\n            search\n            loading={!regionOptions.length}\n            placeholder=\"Ātrā reģionu izvēlne\"\n            options={regionOptions}\n            value={props.value}\n            onChange={onSelectChange}\n          />\n        </div>\n      </Form.Field>\n      <RegionSelector\n        center={center}\n        zoom={zoom}\n        value={props.value}\n        onChange={props.onChange}\n      />\n    </>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport {\n  DropdownItemProps,\n  DropdownProps,\n  Form,\n  Select,\n} from \"semantic-ui-react\";\n\n/**\n * Lazy-load the large region option JSON\n */\nexport default function useRegionOptions() {\n  const [options, setOptions] = useState<DropdownItemProps[]>([]);\n\n  useEffect(() => {\n    const loadRegionData = async () => {\n      const { riga } = await import(\"@brokalys/location-json-schemas\");\n\n      setOptions(\n        riga.features.map((data) => ({\n          data,\n          value: data.geometry.coordinates[0]\n            .map((coords) => `${coords[1]} ${coords[0]}`)\n            .join(\", \"),\n          text: data.properties.name,\n        })),\n      );\n    };\n\n    loadRegionData();\n  }, []);\n\n  return options;\n}\n","import { mixed, number, object, string, NumberSchema, SchemaOf } from \"yup\";\n\nexport interface FormSchema {\n  email: string;\n  category: \"APARTMENT\" | \"HOUSE\" | \"LAND\";\n  type: \"SELL\" | \"RENT\";\n  price_min: number;\n  price_max: number;\n  rooms_min?: number;\n  rooms_max?: number;\n  area_m2_min?: number;\n  area_m2_max?: number;\n  region: string;\n  comments?: string;\n}\n\nconst positiveFormNumber = (): NumberSchema =>\n  number()\n    .positive()\n    .integer()\n    .transform((value?: string | number, originalValue?: string | number) =>\n      String(originalValue).trim() === \"\" ? undefined : value,\n    );\n\nconst moreThanEqualMin = (min: number | undefined, schema: NumberSchema) => {\n  if (!min) {\n    return schema;\n  }\n  return schema.min(min);\n};\n\nconst schema: SchemaOf<FormSchema> = object().shape({\n  email: string().email().required(),\n  category: mixed().oneOf([\"APARTMENT\", \"HOUSE\", \"LAND\"]).required(),\n  type: mixed().oneOf([\"SELL\", \"RENT\"]).required(),\n  price_min: positiveFormNumber().required(),\n  price_max: positiveFormNumber()\n    .required()\n    .when(\"price_min\", moreThanEqualMin)\n    .lessThan(10000000),\n  rooms_min: positiveFormNumber(),\n  rooms_max: positiveFormNumber()\n    .when(\"rooms_min\", moreThanEqualMin)\n    .lessThan(20),\n  area_m2_min: positiveFormNumber(),\n  area_m2_max: positiveFormNumber()\n    .when(\"area_m2_min\", moreThanEqualMin)\n    .when(\"category\", (category: string, schema: NumberSchema) =>\n      schema.lessThan(category === \"LAND\" ? 1000000 : 1000),\n    ),\n  region: string()\n    .required()\n    .matches(/^(-?[0-9]{1,3}\\.[0-9]+ -?[0-9]{1,3}\\.[0-9]+(, )?)+$/, {\n      message: \"Lūdzu izvēlies reģionu\",\n    }),\n  comments: string().max(255),\n});\n\nexport default schema;\n","import React from \"react\";\nimport { Controller, FieldError, useForm } from \"react-hook-form\";\nimport {\n  DropdownItemProps,\n  DropdownProps,\n  Form,\n  Label,\n  LabelProps,\n  SemanticShorthandItem,\n} from \"semantic-ui-react\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport \"shared/l10n\";\nimport RegionField from \"./Fields/RegionField\";\nimport schema, { FormSchema } from \"./schema\";\n\nconst categoryOptions: DropdownItemProps[] = [\n  { value: \"APARTMENT\", text: \"Dzīvoklis\" },\n  { value: \"HOUSE\", text: \"Māja\" },\n  { value: \"LAND\", text: \"Zeme\" },\n];\n\nconst typeOptions: DropdownItemProps[] = [\n  { value: \"SELL\", text: \"Pārdod\" },\n  { value: \"RENT\", text: \"Īrē\" },\n];\n\nfunction getError(\n  field?: FieldError,\n): boolean | SemanticShorthandItem<LabelProps> {\n  if (field) {\n    return { content: field?.message, pointing: \"below\" };\n  }\n  return false;\n}\n\ninterface PingerFormProps {\n  onSubmit: (data: FormSchema) => void;\n  loading?: boolean;\n  error?: React.ReactNode;\n  warning?: React.ReactNode;\n  success?: React.ReactNode;\n}\n\nexport default function PingerForm(props: PingerFormProps) {\n  const { control, handleSubmit, errors } = useForm<FormSchema>({\n    resolver: yupResolver(schema),\n  });\n\n  return (\n    <Form\n      loading={props.loading}\n      error={!!props.error}\n      warning={!!props.warning}\n      success={!!props.success}\n      onSubmit={handleSubmit(props.onSubmit)}\n    >\n      <Controller\n        name=\"email\"\n        control={control}\n        defaultValue=\"\"\n        render={(props) => (\n          <Form.Field\n            required\n            id=\"form-email-field\"\n            control={Form.Input}\n            label=\"E-pasta adrese\"\n            placeholder=\"john@doe.com\"\n            error={getError(errors.email)}\n            value={props.value}\n            onChange={props.onChange}\n          />\n        )}\n      />\n\n      <Form.Group widths=\"equal\">\n        <Controller\n          name=\"category\"\n          control={control}\n          defaultValue=\"APARTMENT\"\n          render={(props) => (\n            <Form.Field\n              required\n              id=\"form-category-field\"\n              control={Form.Select}\n              label=\"Nekustamā īpašuma tips\"\n              options={categoryOptions}\n              error={getError(errors.category)}\n              value={props.value}\n              onChange={(\n                e: React.SyntheticEvent<HTMLElement>,\n                { value }: DropdownProps,\n              ) => props.onChange(value)}\n            />\n          )}\n        />\n\n        <Controller\n          name=\"type\"\n          control={control}\n          defaultValue=\"SELL\"\n          render={(props) => (\n            <Form.Field\n              required\n              id=\"form-type-field\"\n              control={Form.Select}\n              label=\"Darījuma veids\"\n              options={typeOptions}\n              error={getError(errors.type)}\n              value={props.value}\n              onChange={(\n                e: React.SyntheticEvent<HTMLElement>,\n                { value }: DropdownProps,\n              ) => props.onChange(value)}\n            />\n          )}\n        />\n      </Form.Group>\n\n      <Form.Group widths=\"equal\">\n        <Controller\n          name=\"price_min\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field required error={!!errors.price_min}>\n              <label htmlFor=\"form-price-min-field\">Cena (min)</label>\n              <Form.Input\n                id=\"form-price-min-field\"\n                labelPosition=\"right\"\n                type=\"number\"\n                placeholder=\"0\"\n              >\n                <input value={props.value} onChange={props.onChange} />\n                <Label basic prompt={!!errors.price_min}>\n                  EUR\n                </Label>\n              </Form.Input>\n              {errors.price_min && (\n                <Label\n                  prompt\n                  pointing=\"above\"\n                  id=\"form-price-min-field-error-message\"\n                >\n                  {errors.price_min.message}\n                </Label>\n              )}\n            </Form.Field>\n          )}\n        />\n        <Controller\n          name=\"price_max\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field required error={!!errors.price_max}>\n              <label htmlFor=\"form-price-max-field\">Cena (max)</label>\n              <Form.Input\n                id=\"form-price-max-field\"\n                labelPosition=\"right\"\n                type=\"number\"\n                placeholder=\"1000\"\n              >\n                <input value={props.value} onChange={props.onChange} />\n                <Label basic prompt={!!errors.price_max}>\n                  EUR\n                </Label>\n              </Form.Input>\n              {errors.price_max && (\n                <Label\n                  prompt\n                  pointing=\"above\"\n                  id=\"form-price-max-field-error-message\"\n                >\n                  {errors.price_max.message}\n                </Label>\n              )}\n            </Form.Field>\n          )}\n        />\n      </Form.Group>\n\n      <Form.Group widths=\"equal\">\n        <Controller\n          name=\"rooms_min\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field\n              control={Form.Input}\n              type=\"number\"\n              id=\"form-rooms-min-field\"\n              label=\"Istabas (min)\"\n              placeholder=\"1\"\n              error={getError(errors.rooms_min)}\n              value={props.value}\n              onChange={props.onChange}\n            />\n          )}\n        />\n        <Controller\n          name=\"rooms_max\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field\n              control={Form.Input}\n              type=\"number\"\n              id=\"form-rooms-max-field\"\n              label=\"Istabas (max)\"\n              placeholder=\"3\"\n              error={getError(errors.rooms_max)}\n              value={props.value}\n              onChange={props.onChange}\n            />\n          )}\n        />\n      </Form.Group>\n\n      <Form.Group widths=\"equal\">\n        <Controller\n          name=\"area_m2_min\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field required error={!!errors.area_m2_min}>\n              <label htmlFor=\"form-area-m2-min-field\">Platība (min)</label>\n              <Form.Input\n                id=\"form-area-m2-min-field\"\n                labelPosition=\"right\"\n                type=\"number\"\n                placeholder=\"30\"\n              >\n                <input value={props.value} onChange={props.onChange} />\n                <Label basic prompt={!!errors.area_m2_min}>\n                  m<sup>2</sup>\n                </Label>\n              </Form.Input>\n              {errors.area_m2_min && (\n                <Label\n                  prompt\n                  pointing=\"above\"\n                  id=\"form-area-m2-min-field-error-message\"\n                >\n                  {errors.area_m2_min.message}\n                </Label>\n              )}\n            </Form.Field>\n          )}\n        />\n        <Controller\n          name=\"area_m2_max\"\n          control={control}\n          defaultValue=\"\"\n          render={(props) => (\n            <Form.Field required error={!!errors.area_m2_max}>\n              <label htmlFor=\"form-area-m2-max-field\">Platība (max)</label>\n              <Form.Input\n                id=\"form-area-m2-max-field\"\n                labelPosition=\"right\"\n                type=\"number\"\n                placeholder=\"70\"\n              >\n                <input value={props.value} onChange={props.onChange} />\n                <Label basic prompt={!!errors.area_m2_max}>\n                  m<sup>2</sup>\n                </Label>\n              </Form.Input>\n              {errors.area_m2_max && (\n                <Label\n                  prompt\n                  pointing=\"above\"\n                  id=\"form-area-m2-max-field-error-message\"\n                >\n                  {errors.area_m2_max.message}\n                </Label>\n              )}\n            </Form.Field>\n          )}\n        />\n      </Form.Group>\n\n      <Controller\n        name=\"region\"\n        control={control}\n        defaultValue=\"56.992294 24.136619, 56.976394 23.995790, 56.924904 24.005336, 56.889288 24.108467, 56.932211 24.291935, 56.996502 24.245176, 56.992294 24.136619\"\n        render={RegionField}\n      />\n\n      <Controller\n        name=\"comments\"\n        control={control}\n        defaultValue=\"\"\n        render={(props) => (\n          <Form.Field\n            control={Form.TextArea}\n            id=\"form-comments-field\"\n            label=\"Komentāri\"\n            placeholder=\"Ieteikumi, atsauksmes\"\n            error={getError(errors.comments)}\n            value={props.value}\n            onChange={props.onChange}\n          />\n        )}\n      />\n\n      {props.error}\n      {props.warning}\n      {props.success}\n\n      <Form.Field\n        control={Form.Button}\n        primary\n        type=\"submit\"\n        role=\"button\"\n        content=\"Saņemt nek.īp. paziņojumus\"\n        formNoValidate\n      />\n    </Form>\n  );\n}\n\nPingerForm.defaultProps = {\n  loading: false,\n  error: false,\n  success: false,\n};\n","import { ApolloError, useMutation } from \"@apollo/client\";\nimport { loader } from \"graphql.macro\";\nimport { useCallback } from \"react\";\nimport { Container, Message, Segment } from \"semantic-ui-react\";\nimport Form, { FormSchema } from \"components/Form\";\nimport styles from \"./Home.module.css\";\n\nconst CREATE_PINGER = loader(\"../../graphql/create-pinger.graphql\");\n\nfunction getMaxPingerLimitFromError(error?: ApolloError): number {\n  return error?.graphQLErrors[0]?.extensions?.maxPingers || 0;\n}\n\nexport default function Home() {\n  const [createPinger, { loading, error, data }] = useMutation(CREATE_PINGER, {\n    errorPolicy: \"all\",\n  });\n\n  const onSubmit = useCallback(\n    (form: FormSchema) => {\n      createPinger({ variables: form });\n    },\n    [createPinger],\n  );\n\n  return (\n    <Container text className={styles.container}>\n      <Segment padded>\n        <h1>Brokalys pingeris</h1>\n        <p>\n          Aizpildi formu un saņem paziņojumus e-pastā par jauniem nekustamā\n          īpašuma sludinājumiem.\n        </p>\n        <hr />\n        <Form\n          onSubmit={onSubmit}\n          loading={loading}\n          error={\n            error &&\n            getMaxPingerLimitFromError(error) <= 0 && (\n              <Message\n                error\n                header=\"Kaut kas nogāja greizi\"\n                content=\"Centīsimies atrisināt problēmu tuvākajā laikā.\"\n              />\n            )\n          }\n          warning={\n            error &&\n            getMaxPingerLimitFromError(error) > 0 && (\n              <Message warning>\n                <Message.Header>PINGERis nav izveidots</Message.Header>\n                <Message.Content>\n                  Diemžēl, vienai e-pasta adresei var pievienot tikai{\" \"}\n                  {getMaxPingerLimitFromError(error)} NĪ paziņojumus\n                </Message.Content>\n              </Message>\n            )\n          }\n          success={\n            data && (\n              <Message\n                success\n                header=\"PINGERis veiksmīgi izveidots\"\n                content=\"Turpmāk saņemsi e-pastus par jauniem nekustamo īpašumu sludinājumiem, kas atbilst tevis izvēlētajiem kritērijiem.\"\n              />\n            )\n          }\n        />\n      </Segment>\n    </Container>\n  );\n}\n","import Home from \"./Home\";\n\nexport default Home;\n","import Home from \"./Home\";\n\nexport default Home;\n","import { ApolloProvider } from \"@apollo/client\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport client from \"shared/apollo-client\";\nimport ErrorBoundary from \"shared/bugsnag\";\nimport \"./index.css\";\nimport App from \"./pages\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary>\n      <ApolloProvider client={client}>\n        <App />\n      </ApolloProvider>\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}